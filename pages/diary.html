<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>–í–∏–∑–∏—Ç–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ ‚Äî –î–Ω–µ–≤–Ω–∏–∫</title>

        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
        />
    </head>
    <body class="d-flex flex-column min-vh-100">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a
                    class="navbar-brand d-flex align-items-center"
                    href="../index.html"
                >
                    <span class="me-2">üéì</span>
                    <span>–ú–∏—Ä–æ–Ω–æ–≤ –ë–æ—Ä–∏—Å</span>
                </a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#mainNavbar"
                    aria-controls="mainNavbar"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="mainNavbar">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="projects.html">–ü—Ä–æ–µ–∫—Ç—ã</a>
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link active"
                                aria-current="page"
                                href="diary.html"
                                >–î–Ω–µ–≤–Ω–∏–∫</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contacts.html"
                                >–ö–æ–Ω—Ç–∞–∫—Ç—ã</a
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <main class="flex-grow-1">
            <section class="py-5">
                <div class="container">
                    <h1 class="h3 mb-4 text-center">–ú–æ–π —É—á–µ–±–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h1>

                    <div class="row g-5">
                        <!-- Timeline / Entries -->
                        <div class="col-12 col-lg-7">
                            <div class="card shadow-sm">
                                <div class="card-header bg-white">
                                    <strong>–ó–∞–ø–∏—Å–∏</strong>
                                </div>
                                <ul
                                    class="list-group list-group-flush"
                                    id="diaryList"
                                >
                                    <!-- Rendered by JS -->
                                </ul>
                            </div>
                        </div>

                        <!-- Current Courses with progress -->
                        <div class="col-12 col-lg-5">
                            <div class="card shadow-sm mb-4">
                                <div class="card-header bg-white">
                                    <strong>–¢–µ–∫—É—â–∏–µ –∫—É—Ä—Å—ã</strong>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <div
                                            class="d-flex justify-content-between"
                                        >
                                            <span>–í–µ–±‚Äë—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</span
                                            ><span>90%</span>
                                        </div>
                                        <div
                                            class="progress"
                                            role="progressbar"
                                            aria-valuenow="90"
                                            aria-valuemin="0"
                                            aria-valuemax="100"
                                        >
                                            <div
                                                class="progress-bar bg-primary"
                                                style="width: 90%"
                                            ></div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div
                                            class="d-flex justify-content-between"
                                        >
                                            <span>JavaScript</span
                                            ><span>70%</span>
                                        </div>
                                        <div
                                            class="progress"
                                            role="progressbar"
                                            aria-valuenow="70"
                                            aria-valuemin="0"
                                            aria-valuemax="100"
                                        >
                                            <div
                                                class="progress-bar bg-warning"
                                                style="width: 70%"
                                            ></div>
                                        </div>
                                    </div>
                                    <div class="mb-1">
                                        <div
                                            class="d-flex justify-content-between"
                                        >
                                            <span>React</span><span>50%</span>
                                        </div>
                                        <div
                                            class="progress"
                                            role="progressbar"
                                            aria-valuenow="50"
                                            aria-valuemin="0"
                                            aria-valuemax="100"
                                        >
                                            <div
                                                class="progress-bar bg-success"
                                                style="width: 50%"
                                            ></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Add entry form -->
                            <div class="card shadow-sm">
                                <div class="card-header bg-white">
                                    <strong>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</strong>
                                </div>
                                <div class="card-body">
                                    <form id="entryForm" class="row g-3">
                                        <div class="col-12 col-md-4">
                                            <label for="date" class="form-label"
                                                >–î–∞—Ç–∞</label
                                            >
                                            <input
                                                type="date"
                                                id="date"
                                                class="form-control"
                                                required
                                            />
                                        </div>
                                        <div class="col-12 col-md-8">
                                            <label
                                                for="title"
                                                class="form-label"
                                                >–¢–µ–º–∞</label
                                            >
                                            <input
                                                type="text"
                                                id="title"
                                                class="form-control"
                                                placeholder="–ù–∞–ø—Ä., –í–µ—Ä—Å—Ç–∫–∞ –º–∞–∫–µ—Ç–∞ —Å–∞–π—Ç–∞"
                                                required
                                            />
                                        </div>
                                        <div class="col-12">
                                            <label for="desc" class="form-label"
                                                >–û–ø–∏—Å–∞–Ω–∏–µ</label
                                            >
                                            <textarea
                                                id="desc"
                                                class="form-control"
                                                rows="3"
                                                placeholder="–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É"
                                                required
                                            ></textarea>
                                        </div>
                                        <div class="col-12 col-md-6">
                                            <label
                                                for="status"
                                                class="form-label"
                                                >–°—Ç–∞—Ç—É—Å</label
                                            >
                                            <select
                                                id="status"
                                                class="form-select"
                                                required
                                            >
                                                <option value="done">
                                                    –í—ã–ø–æ–ª–Ω–µ–Ω–æ
                                                </option>
                                                <option value="progress">
                                                    –í –ø—Ä–æ—Ü–µ—Å—Å–µ
                                                </option>
                                            </select>
                                        </div>
                                        <div
                                            class="col-12 col-md-6 d-flex align-items-end"
                                        >
                                            <button
                                                type="submit"
                                                class="btn btn-primary w-100"
                                            >
                                                –î–æ–±–∞–≤–∏—Ç—å
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="bg-dark text-light text-center py-4 mt-auto">
            <div class="container">¬© 2024 –ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
        </footer>

        <!-- Bootstrap JS Bundle -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"
        ></script>

        <!-- Inline JS: render entries + add new entries with localStorage -->
        <script>
            const STORAGE_KEY = "diaryEntries";

            const defaultEntries = [
                {
                    date: "2025-12-15",
                    title: "–í–µ—Ä—Å—Ç–∫–∞ –º–∞–∫–µ—Ç–∞ —Å–∞–π—Ç–∞",
                    desc: "–°–≤–µ—Ä—Å—Ç–∞–ª –º–∞–∫–µ—Ç –ø–æ Figma, –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞.",
                    status: "done",
                },
                {
                    date: "2025-12-10",
                    title: "JavaScript –æ—Å–Ω–æ–≤—ã",
                    desc: "–¢–∏–ø—ã, —Ñ—É–Ω–∫—Ü–∏–∏, DOM-–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏.",
                    status: "done",
                },
                {
                    date: "2025-12-05",
                    title: "–†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏",
                    desc: "–í–∞–ª–∏–¥–∞—Ü–∏—è, —Å–æ–±—ã—Ç–∏—è, –æ—Ç–ø—Ä–∞–≤–∫–∞.",
                    status: "progress",
                },
                {
                    date: "2025-12-01",
                    title: "–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω",
                    desc: "Media queries, responsive images.",
                    status: "progress",
                },
            ];

            function loadEntries() {
                try {
                    const raw = localStorage.getItem(STORAGE_KEY);
                    return raw ? JSON.parse(raw) : defaultEntries;
                } catch (e) {
                    return defaultEntries;
                }
            }

            function saveEntries(entries) {
                try {
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(entries));
                } catch (e) {}
            }

            function statusIcon(status) {
                return status === "done" ? "‚úì" : "‚è≥";
            }

            function formatDate(iso) {
                // Expect YYYY-MM-DD -> DD.MM
                if (!iso) return "";
                const [y, m, d] = iso.split("-");
                return `${d}.${m}`;
            }

            function renderEntries(entries) {
                const list = document.getElementById("diaryList");
                if (!list) return;
                // Sort by date desc
                const sorted = [...entries].sort((a, b) =>
                    a.date < b.date ? 1 : -1
                );
                list.innerHTML = "";
                sorted.forEach((e, idx) => {
                    const li = document.createElement("li");
                    li.className =
                        "list-group-item d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2";
                    li.innerHTML = `
						<div class="d-flex align-items-center gap-2">
							<span class="badge ${
                                e.status === "done"
                                    ? "text-bg-success"
                                    : "text-bg-warning"
                            }">${statusIcon(e.status)}</span>
							<strong>${formatDate(e.date)}</strong> ‚Äî ${e.title}
						</div>
						<div class="text-body-secondary">${e.desc}</div>
					`;
                    list.appendChild(li);
                });
            }

            document.addEventListener("DOMContentLoaded", () => {
                const entries = loadEntries();
                renderEntries(entries);

                const form = document.getElementById("entryForm");
                if (form) {
                    form.addEventListener("submit", (ev) => {
                        ev.preventDefault();
                        const date = document.getElementById("date").value;
                        const title = document
                            .getElementById("title")
                            .value.trim();
                        const desc = document
                            .getElementById("desc")
                            .value.trim();
                        const status = document.getElementById("status").value;
                        if (!date || !title || !desc) return;

                        const updated = loadEntries();
                        updated.push({ date, title, desc, status });
                        saveEntries(updated);
                        renderEntries(updated);
                        form.reset();
                    });
                }
            });
        </script>
    </body>
</html>
